import{u as j,a as x,j as t,i as N,r as _,R as y,k as F,m as S,n as L,o as P,d as D}from"./index-BJCUlA4O.js";import{H as k,a as A}from"./index.esm-BHvSVg-J.js";import{O as $}from"./OpenBook-Bdk87rG1.js";import{n as B}from"./notiflix-loading-aio-BSpUJvsZ.js";const v=n=>n.contacts,E="_contactform_59gav_1",w="_label_59gav_8",O="_add_button_59gav_15",R="_input_59gav_29",p={contactform:E,label:w,add_button:O,input:R},q=()=>{const n=j(),{allContact:u}=x(v),l=c=>{c.preventDefault();const a=c.target,s=a.elements.name.value,d=a.elements.number.value;u.find(m=>m.name===s)?alert(s+" is already in contacts"):(n(N({name:s,number:d})),a.reset())};return t.jsxs("div",{className:p.contactform,children:[t.jsx("h2",{children:"Phonebook"}),t.jsxs("form",{onSubmit:l,children:[t.jsxs("label",{className:p.label,children:["Name",t.jsx("input",{type:"text",name:"name",pattern:"^[a-zA-Z '\\-]+$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,autoComplete:"true"})]}),t.jsxs("label",{className:p.label,children:["Phone",t.jsx("input",{type:"tel",name:"number",pattern:"^\\+?[0-9\\(\\) \\-]+$",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,autoComplete:"true",className:p.input})]}),t.jsx("button",{type:"submit",className:p.add_button,children:"Add Contact"})]})]})},H=q,M="_h2_1nllv_1",z="_text_1nllv_5",J="_rightPage_1nllv_9",T="_idFilter_1nllv_12",V="_list_1nllv_15",W="_itemList_1nllv_21",Z="_delete_button_1nllv_28",I="_edit_button_1nllv_41",G="_buttonsDiv_1nllv_54",o={h2:M,text:z,rightPage:J,idFilter:T,list:V,itemList:W,delete_button:Z,edit_button:I,buttonsDiv:G},K=n=>n.filter,Q="_modal_1979f_1",U="_modalBox_1979f_12",X="_form_1979f_18",Y="_label_1979f_23",tt="_done_1979f_28",et="_cancel_1979f_41",i={modal:Q,modalBox:U,form:X,label:Y,done:tt,cancel:et},nt=({show:n,contactData:u,closeModal:l})=>{const c=j(),a=JSON.parse(u),[s,d]=_.useState(a.name),[m,b]=_.useState(a.number),f=r=>{const e=r.target.value;d(e)},C=r=>{const e=r.target.value;b(e)},g=r=>{r.preventDefault(),c(F({id:a.id,name:s,number:m})),l()};return y.createPortal(n&&t.jsx("div",{className:i.modal,children:t.jsxs("div",{className:i.modalBox,children:[t.jsx("h3",{children:"Edit Contact"}),t.jsxs("form",{className:i.form,onSubmit:g,children:[t.jsxs("label",{className:i.label,children:["Name",t.jsx("input",{type:"text",name:"name",pattern:"^[a-zA-Z '\\-]+$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,autoComplete:"true",value:s,onChange:f})]}),t.jsxs("label",{className:i.label,children:["Phone",t.jsx("input",{type:"tel",name:"number",pattern:"^\\+?[0-9\\(\\) \\-]+$",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,autoComplete:"true",value:m,onChange:C})]}),t.jsx("button",{type:"submit",className:i.done,children:"Done"}),t.jsx("button",{type:"button",className:i.cancel,onClick:l,children:"Cancel"})]})]})}),document.querySelector("#popup-root"))},at=()=>{const n=j(),{isLoading:u,err:l,allContact:c}=x(v),a=x(K),[s,d]=_.useState(!1),[m,b]=_.useState(),f=e=>{const h=e.target.value;b(h),d(!0)},C=e=>{d(!1)},g=e=>{const h=e.target.value;n(L(h))},r=e=>{const h=e.target.value;n(P(h))};return _.useEffect(()=>{n(S())},[n]),t.jsxs("div",{className:o.rightPage,children:[s&&t.jsx(nt,{show:s,contactData:m,closeModal:C}),t.jsx("h2",{className:o.h2,children:"Contacts"}),t.jsx("label",{htmlFor:"idFilter",className:o.text,children:"Find contacts by name"}),t.jsx("br",{}),t.jsx("input",{className:o.idFilter,id:"idFilter",type:"text",name:"filter",onChange:r,autoComplete:"true"}),t.jsxs("ul",{className:o.list,children:[u?t.jsx("p",{children:"Loading..."}):c&&c.map(e=>e.name.toLowerCase().includes(a.toLowerCase())&&t.jsxs("li",{className:o.itemList,children:[t.jsxs("span",{children:[e.name,":",t.jsx("br",{})," ",e.number]}),t.jsxs("div",{className:o.buttonsDiv,children:[t.jsx("button",{type:"button",onClick:f,value:JSON.stringify(e),className:o.edit_button,children:"Edit"}),t.jsx("button",{type:"button",onClick:g,value:e.id,className:o.delete_button,children:"Delete"})]})]},e.id)),l&&t.jsxs("p",{children:["Error: ",l]})]})]})},st=at;function it(){return x(D)===!1&&B.Loading.remove(),t.jsx(k,{children:t.jsxs($,{children:[t.jsxs(A,{children:["npm i @chakra-ui/react @emotion/react @emotion/styled framer-motion",t.jsx("title",{children:"Contacts"})]}),t.jsx(H,{}),t.jsx(st,{})]})})}export{it as default};
